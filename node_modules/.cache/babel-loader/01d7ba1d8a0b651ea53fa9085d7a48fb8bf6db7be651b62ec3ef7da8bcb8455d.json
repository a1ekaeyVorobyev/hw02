{"ast":null,"code":"var _s = $RefreshSig$();\nimport { createContext, useContext } from \"react\";\n;\nexport const defaultAuth = {\n  auth: {\n    login: 'default'\n  },\n  setAuth: () => {\n    return true;\n  }\n};\n\n// register the context\nexport const AuthContext = /*#__PURE__*/createContext(defaultAuth);\n\n// export a custom hook to use this specific context\nexport function useAuthContext() {\n  _s();\n  return useContext(AuthContext);\n}\n_s(useAuthContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function getAuth(auth) {\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth == null) return false;\n  const storageAuth = JSON.parse(oAuth);\n  return storageAuth.password == auth.password;\n}\n;\nexport function setAuth(auth) {\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth != null) {\n    return false;\n  }\n  localStorage.setItem(auth.login, JSON.stringify(auth));\n  return true;\n}\n;","map":{"version":3,"names":["createContext","useContext","defaultAuth","auth","login","setAuth","AuthContext","useAuthContext","_s","getAuth","oAuth","localStorage","getItem","storageAuth","JSON","parse","password","setItem","stringify"],"sources":["/home/a1eksey/project/Otus_ASP_React/homework02/homework02/src/Hooks/useAuthContext.tsx"],"sourcesContent":["import { type } from \"os\";\nimport { useState, createContext, useContext } from \"react\";\nimport { json } from \"stream/consumers\";\n\n\ntype tAuth = {\n    login:string;\n    password?:string\n}\n\ninterface iAuthContext  {\n    auth: tAuth;\n    setAuth: (login:string) => boolean;\n  };\n\n export const defaultAuth: iAuthContext = {\n    auth: {login:'default'},\n    setAuth: () => {return true}\n  };\n  \n\n// register the context\nexport const AuthContext = createContext<iAuthContext>(defaultAuth);\n\n\n\n// export a custom hook to use this specific context\nexport function useAuthContext() {\n  return useContext(AuthContext);\n}\n\nexport function getAuth(auth:tAuth){\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth == null)\n    return false\n  const storageAuth =  JSON.parse(oAuth);\n  return storageAuth.password == auth.password\n};\n\nexport function setAuth(auth:tAuth){\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth != null){\n    return false;\n  }\n  localStorage.setItem(auth.login, JSON.stringify(auth))\n  return true\n};"],"mappings":";AACA,SAAmBA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAYxD;AAEF,OAAO,MAAMC,WAAyB,GAAG;EACtCC,IAAI,EAAE;IAACC,KAAK,EAAC;EAAS,CAAC;EACvBC,OAAO,EAAEA,CAAA,KAAM;IAAC,OAAO,IAAI;EAAA;AAC7B,CAAC;;AAGH;AACA,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAeE,WAAW,CAAC;;AAInE;AACA,OAAO,SAASK,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC/B,OAAOP,UAAU,CAACK,WAAW,CAAC;AAChC;AAACE,EAAA,CAFeD,cAAc;AAI9B,OAAO,SAASE,OAAOA,CAACN,IAAU,EAAC;EACjC,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACT,IAAI,CAACC,KAAK,CAAC;EAC9C,IAAIM,KAAK,IAAI,IAAI,EACf,OAAO,KAAK;EACd,MAAMG,WAAW,GAAIC,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC;EACtC,OAAOG,WAAW,CAACG,QAAQ,IAAIb,IAAI,CAACa,QAAQ;AAC9C;AAAC;AAED,OAAO,SAASX,OAAOA,CAACF,IAAU,EAAC;EACjC,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACT,IAAI,CAACC,KAAK,CAAC;EAC9C,IAAIM,KAAK,IAAI,IAAI,EAAC;IAChB,OAAO,KAAK;EACd;EACAC,YAAY,CAACM,OAAO,CAACd,IAAI,CAACC,KAAK,EAAEU,IAAI,CAACI,SAAS,CAACf,IAAI,CAAC,CAAC;EACtD,OAAO,IAAI;AACb;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}