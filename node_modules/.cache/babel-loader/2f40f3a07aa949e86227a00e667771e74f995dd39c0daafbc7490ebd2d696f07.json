{"ast":null,"code":"var _s = $RefreshSig$();\nimport { createContext, useContext } from \"react\";\n;\nexport const defaultAuth = {\n  auth: {\n    login: 'default'\n  },\n  setAuth: login => {}\n};\n\n// register the context\nconst AuthContext = /*#__PURE__*/createContext(defaultAuth);\n\n// export a custom hook to use this specific context\nexport function useAuthContext() {\n  _s();\n  return useContext(AuthContext);\n}\n_s(useAuthContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function getAuth(auth) {\n  alert('getAuth');\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth == null) return false;\n  const storageAuth = JSON.parse(oAuth);\n  return storageAuth.password == auth.password;\n}\n;\nexport function setLogin(auth) {\n  alert('setLogin');\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth != null) {\n    return false;\n  }\n  localStorage.setItem(auth.login, JSON.stringify(auth));\n  return true;\n}\n;","map":{"version":3,"names":["createContext","useContext","defaultAuth","auth","login","setAuth","AuthContext","useAuthContext","_s","getAuth","alert","oAuth","localStorage","getItem","storageAuth","JSON","parse","password","setLogin","setItem","stringify"],"sources":["/home/a1eksey/project/Otus_ASP_React/homework02/homework02/src/Hooks/useAuthContext.tsx"],"sourcesContent":["import { type } from \"os\";\nimport { useState, createContext, useContext } from \"react\";\nimport { json } from \"stream/consumers\";\n\n\nexport type tAuth = {\n    login:string;\n    password?:string\n}\n\ninterface iAuthContext  {\n    auth: tAuth;\n    setAuth: (login:string) => void;\n  };\n\n export const defaultAuth: iAuthContext = {\n    auth: {login:'default'},\n    setAuth: (login:string) => {}\n  };\n  \n\n// register the context\nconst AuthContext = createContext<iAuthContext>(defaultAuth);\n\n\n\n// export a custom hook to use this specific context\nexport function useAuthContext() {\n  return useContext(AuthContext);\n}\n\nexport function getAuth(auth:tAuth){\n  alert('getAuth')\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth == null)\n    return false\n  const storageAuth =  JSON.parse(oAuth);\n  return storageAuth.password == auth.password\n};\n\nexport function setLogin(auth:tAuth){\n  alert('setLogin')\n  const oAuth = localStorage.getItem(auth.login);\n  if (oAuth != null){\n    return false;\n  }\n  localStorage.setItem(auth.login, JSON.stringify(auth))\n  return true\n};"],"mappings":";AACA,SAAmBA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAYxD;AAEF,OAAO,MAAMC,WAAyB,GAAG;EACtCC,IAAI,EAAE;IAACC,KAAK,EAAC;EAAS,CAAC;EACvBC,OAAO,EAAGD,KAAY,IAAK,CAAC;AAC9B,CAAC;;AAGH;AACA,MAAME,WAAW,gBAAGN,aAAa,CAAeE,WAAW,CAAC;;AAI5D;AACA,OAAO,SAASK,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC/B,OAAOP,UAAU,CAACK,WAAW,CAAC;AAChC;AAACE,EAAA,CAFeD,cAAc;AAI9B,OAAO,SAASE,OAAOA,CAACN,IAAU,EAAC;EACjCO,KAAK,CAAC,SAAS,CAAC;EAChB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACV,IAAI,CAACC,KAAK,CAAC;EAC9C,IAAIO,KAAK,IAAI,IAAI,EACf,OAAO,KAAK;EACd,MAAMG,WAAW,GAAIC,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC;EACtC,OAAOG,WAAW,CAACG,QAAQ,IAAId,IAAI,CAACc,QAAQ;AAC9C;AAAC;AAED,OAAO,SAASC,QAAQA,CAACf,IAAU,EAAC;EAClCO,KAAK,CAAC,UAAU,CAAC;EACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACV,IAAI,CAACC,KAAK,CAAC;EAC9C,IAAIO,KAAK,IAAI,IAAI,EAAC;IAChB,OAAO,KAAK;EACd;EACAC,YAAY,CAACO,OAAO,CAAChB,IAAI,CAACC,KAAK,EAAEW,IAAI,CAACK,SAAS,CAACjB,IAAI,CAAC,CAAC;EACtD,OAAO,IAAI;AACb;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}