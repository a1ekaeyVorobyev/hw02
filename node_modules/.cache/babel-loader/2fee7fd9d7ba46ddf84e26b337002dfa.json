{"ast":null,"code":"var _jsxFileName = \"/home/a1eksey/project/Otus_ASP_React/homework02/temp-context/src/Components/Comp.tsx\";\nimport { createContext, useContext, useState } from \"react\";\nconst defaultState = {\n  color: \"dark\",\n  updateTodo: () => {}\n};\nconst ThemeContext = createContext(defaultState);\nexport default function MyApp() {\n  const themeCont = useContext(ThemeContext);\n  const [theme, setTheme] = useState(\"dark\");\n  themeCont.updateTodo = theme => {\n    if (theme == null) {\n      if (themeCont.color === \"light\") {\n        themeCont.color = \"dark\";\n        setTheme(\"dark\");\n      } else {\n        themeCont.color = \"light\";\n        setTheme(\"light\");\n      }\n    } else {\n      themeCont.color = theme;\n      alert(theme);\n    }\n  };\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: themeCont,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: themeCont.color == \"dark\",\n    onChange: e => {\n      themeCont.updateTodo();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), \"Use dark mode\"));\n}\nfunction CheckBox({\n  children\n}) {\n  const themeCont = useContext(ThemeContext);\n  return /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: themeCont.color == \"dark\",\n    onChange: e => {\n      themeCont.updateTodo();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  });\n}\nfunction Form() {\n  const t = useContext(ThemeContext);\n  return /*#__PURE__*/React.createElement(Panel, {\n    title: t.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"inputField\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    theme: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"dark\"), /*#__PURE__*/React.createElement(Button, {\n    theme: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Light\"), /*#__PURE__*/React.createElement(CheckBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"CheckBox\"));\n}\nfunction Panel({\n  title,\n  children\n}) {\n  const themeContext = useContext(ThemeContext);\n  const className = \"panel-\" + {\n    title\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, title), children);\n}\nfunction Button({\n  theme,\n  children\n}) {\n  const themeContext = useContext(ThemeContext);\n  const className = \"button-\" + themeContext.color;\n  const onClick = event => {\n    themeContext.updateTodo(theme);\n    event.preventDefault();\n  };\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: className,\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, children);\n}","map":{"version":3,"names":["createContext","useContext","useState","defaultState","color","updateTodo","ThemeContext","MyApp","themeCont","theme","setTheme","alert","React","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Form","type","checked","onChange","e","CheckBox","children","t","Panel","title","id","Button","themeContext","className","onClick","event","preventDefault"],"sources":["/home/a1eksey/project/Otus_ASP_React/homework02/temp-context/src/Components/Comp.tsx"],"sourcesContent":["import { Children, createContext, useContext, useState } from \"react\";\nimport { isElementAccessExpression } from \"typescript\";\n\ntype tTheme = \"light\" | \"dark\";\n\ntype iContext = {\n  color: tTheme;\n  updateTodo: (text?: tTheme) => void;\n};\n\nconst defaultState: iContext = {\n  color: \"dark\",\n  updateTodo: () => {},\n};\n\nconst ThemeContext = createContext<iContext>(defaultState);\n\ntype Props = {\n  title?: string;\n  theme?: tTheme;\n  children: string | JSX.Element | JSX.Element[];\n};\n\nexport default function MyApp() {\n  const themeCont = useContext(ThemeContext);\n  const [theme, setTheme] = useState<tTheme>(\"dark\");\n\n  themeCont.updateTodo = (theme?: tTheme) => {\n    if (theme == null) {\n      if (themeCont.color === \"light\") {\n        themeCont.color = \"dark\";\n        setTheme(\"dark\");\n      } else {\n        themeCont.color = \"light\";\n        setTheme(\"light\");\n      }\n    }else{\n        themeCont.color = theme;\n        alert(theme);\n    }\n  };\n\n  return (\n    <ThemeContext.Provider value={themeCont}>\n      <Form />\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={themeCont.color == \"dark\"}\n          onChange={(e) => {\n            themeCont.updateTodo();\n          }}\n        />\n        Use dark mode\n      </label>\n    </ThemeContext.Provider>\n  );\n}\n\nfunction CheckBox({ children }: Props) {\n  const themeCont = useContext(ThemeContext);\n\n  return (\n    <input\n      type=\"checkbox\"\n      checked={themeCont.color == \"dark\"}\n      onChange={(e) => {\n        themeCont.updateTodo();\n      }}\n    />\n  );\n}\n\nfunction Form() {\n  const t = useContext(ThemeContext);\n  return (\n    <Panel title={t.color}>\n      <input type=\"text\" id=\"inputField\" />\n      <Button theme=\"dark\">dark</Button>\n      <Button theme=\"light\">Light</Button>\n      <CheckBox>CheckBox</CheckBox>\n    </Panel>\n  );\n}\n\nfunction Panel({ title, children }: Props) {\n  const themeContext = useContext(ThemeContext);\n  const className = \"panel-\" + { title };\n  return (\n    <section className={className}>\n      <h1>{title}</h1>\n      {children}\n    </section>\n  );\n}\n\nfunction Button({ theme,children }: Props) {\n  const themeContext = useContext<iContext>(ThemeContext);\n  const className = \"button-\" + themeContext.color;\n  const onClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    themeContext.updateTodo(theme);\n    event.preventDefault();\n  };\n  return (\n    <button className={className} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}